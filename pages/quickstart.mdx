import { OpenApiTryIt, Alert, ExplainStep, scrollToHeading } from '@redocly/developer-portal/ui';

# ‚è± Quickstart

The SpatiaFi API uses OAuth 2.0 for authentication. This means that you will need to generate an access token
to use the API. This guide will walk you through the steps to generate an access token and use it to make
your first API call.

One of the security features of OAuth 2.0 is that access tokens are short-lived and can be revoked at any time.
This means that if your access token is compromised, you can simply request a new one and the old one will no longer
work. This may be different from other services you've used, where you might have a single API key that never expires.

:::info
If you're following along with this guide and you get an "Access Denied" error, simply generate a new access token
and try again.
:::

For more advanced use cases, including authenticating from a program, see the
[Authentication](/pages/authentication/) guide.

## Generate an Access Token

Let's get an access token by logging in with your username and password.
In the panel below, expand the "Security" section and enter your username and password.
Then hit send!

<OpenApiTryIt
    definitionId="auth"
    operationId="auth_jwt_client_token_basic_api_v1_auth_jwt_token_basic_get"
    id="step1"
    onResponse={({ request, response }) =>
        {
            console.log('request: ', request);
            console.log('Access token: ', response.body.access_token);
        }
    }
/>

If you see a response with an access token, congratulations! You've successfully authenticated to the SpatiaFi API üéâ

:::attention Attention

Copy the access token from the response above, as we will use it in the next step.

:::

## Make an API Call

Now that we have an Access Token we can use them to authenticate to the API.

Let's make a call to the [/info](/api/#operation/info_api_info_get) endpoint to get information about
the `ce-wildfire-risk-static-us-and-canada-v3.0` dataset.

In the panel below, expand the "Security" section and ensure that "Security scheme" is set to `OAuth2PasswordBearer`.
Then, enter your access token in the "Parameters" section.

In the "Parameters" section, set `item_id` to `ce-wildfire-risk-static-us-and-canada-v3.0`.


<OpenApiTryIt
    definitionId="spatiafi"
    operationId="info_api_info_get"
    id="step3"
    needs={['step2']}
    placeholder={( step2 ) => {
        if (!step2) {
            return (
                <Alert variant="attention">
                    Please generate an Access Token above. This will be used to authenticate to this endpoint.
                </Alert>
            );
        }
    }}
    securityDefaults={(step1) => { return ({
        OAuth2PasswordBearer: {
            token: {
                access_token: step1.response.body.access_token
            }
        }
    })}}
/>

If you see a response with item information, congratulations! You've successfully used the SpatiaFi API üéâ

Next, follow along with the [Tutorials](/pages/tutorials/) to learn how enrich your own data with SpatiaFi climate data,
or check out the [API Reference](/api/) to learn more about the SpatiaFi API.
